<html>
    <head>
        <script>
            /*function demo1(){
                return new Promise((resolve, reject)=>{
                    setTimeout(()=>{
                        resolve("rohit");
                    }, 2000);
                })
            }


            function demo2(a){
                return new Promise((resolve, reject)=>{
                    setTimeout(()=>{
                        resolve(a.length);
                    }, 2000);
                })
            }

            // demo1().then(x => demo2(x).then(b => console.log(b)));
            async function finale()
            {
                var x = await demo1(); 
                var y = await demo2(x);
                
                console.log(y);
            }

            finale();
            */


            function getData(){
                return fetch("https://fakestoreapi.com/products");
            }
            
            
            function getSingleProduct(id){
                
                return fetch("https://fakestoreapi.com/products/"+id);

            }


           async function finale(){
               var data = await getData().then(result1 => 
                result1.text()
                )

                var newdata = JSON.parse(data);
                var id = newdata.length / 2;
                var pro = await getSingleProduct(id).then(result2 => 
                    result2.text()
                )
                
                console.log(pro);
            }

            finale();




        </script>
    </head>
    <body>
        <h1>Async and Await in JS</h1>
    </body>
</html>